<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This module encompasses the encryption and integrity layer of the BogoStack, which provides wrapper types over `RxChannels` and `FramedTxChannels`, providing securer and more robust ways to send and receive messages through channels. Additionally, this module adds a trait called `KeyedChannel` that allows for encryption/decryption keys associated with a secure channel to be modified after channel creation. Secure channels often need random number generation and when they do, theyâ€™ll require some implementation of `RandomSource`."><title>ucsc_ectf_util_common::communication::lower_layers::crypto - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-1def573a4779b29b.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../../../static.files/light-d59023bfa12059d2.css"><link rel="stylesheet" disabled href="../../../../static.files/dark-1ca41bb1e10af075.css"><link rel="stylesheet" disabled href="../../../../static.files/ayu-18b4181a2f3fb862.css"><script src="../../../../static.files/storage-3891ce972e3a2bf8.js"></script><script defer src="../../../../static.files/main-98a684e84ae5b08b.js"></script><noscript><link rel="stylesheet" href="../../../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../../../ucsc_ectf_util_common/index.html"><img class="rust-logo" src="../../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../../../ucsc_ectf_util_common/index.html"><img class="rust-logo" src="../../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module crypto</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../../index.html">ucsc_ectf_util_common</a>::<wbr><a href="../../index.html">communication</a>::<wbr><a href="../index.html">lower_layers</a>::<wbr><a class="mod" href="#">crypto</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../../../src/ucsc_ectf_util_common/communication/lower_layers/crypto.rs.html#1-41">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This module encompasses the encryption and integrity layer of the BogoStack, which provides
wrapper types over <a href="../../trait.RxChannel.html" title="trait ucsc_ectf_util_common::communication::RxChannel"><code>RxChannels</code></a> and
<a href="../framing/trait.FramedTxChannel.html" title="trait ucsc_ectf_util_common::communication::lower_layers::framing::FramedTxChannel"><code>FramedTxChannels</code></a>, providing
securer and more robust ways to send and receive messages through channels. Additionally, this
module adds a trait called <a href="trait.KeyedChannel.html" title="trait ucsc_ectf_util_common::communication::lower_layers::crypto::KeyedChannel"><code>KeyedChannel</code></a> that allows for encryption/decryption keys associated
with a secure channel to be modified after channel creation. Secure channels often need random number
generation and when they do, theyâ€™ll require some implementation of <a href="trait.RandomSource.html" title="trait ucsc_ectf_util_common::communication::lower_layers::crypto::RandomSource"><code>RandomSource</code></a>.</p>
<h2 id="current-secure-channel-implementations"><a href="#current-secure-channel-implementations">Current secure channel implementations:</a></h2><h3 id="xchacha20poly1305rxchannel-and-xchacha20poly1305txchannel"><a href="#xchacha20poly1305rxchannel-and-xchacha20poly1305txchannel"><code>XChacha20Poly1305RxChannel</code> and <code>XChacha20Poly1305TxChannel</code></a></h3>
<p>These channels provide message integrity and confidentiality by using XChacha20Poly1305.
Each message sent will contain a 24-byte nonce, a 16-byte authentication tag, and the
ciphertext given a 32-byte symmetric key to encrypt and decrypt communications. The
authentication tag provided will be checked against the message body to prevent message tampering.
This means that any buffers used to received messages from an <a href="chachapoly1305/struct.XChacha20Poly1305RxChannel.html" title="struct ucsc_ectf_util_common::communication::lower_layers::crypto::chachapoly1305::XChacha20Poly1305RxChannel"><code>XChacha20Poly1305RxChannel</code></a> must
have enough space to store the additional metadata, totaling 40 bytes. This is stored in the
constant <code>XChacha20Poly1305RxChannel::METADATA_SIZE</code>. This channel requires random number
generation. Because of this, it requires a <a href="trait.RandomSource.html" title="trait ucsc_ectf_util_common::communication::lower_layers::crypto::RandomSource"><code>RandomSource</code></a>.</p>
<p>See the documentation for <a href="../../index.html" title="mod ucsc_ectf_util_common::communication"><code>communication</code></a> for a description of the BogoStack
and more info on the other layers of the BogoStack.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left"><a class="mod" href="chachapoly1305/index.html" title="mod ucsc_ectf_util_common::communication::lower_layers::crypto::chachapoly1305">chachapoly1305</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left"><a class="struct" href="struct.XChacha20Poly1305RxChannel.html" title="struct ucsc_ectf_util_common::communication::lower_layers::crypto::XChacha20Poly1305RxChannel">XChacha20Poly1305RxChannel</a></div><div class="item-right docblock-short">This <a href="../../trait.RxChannel.html" title="trait ucsc_ectf_util_common::communication::RxChannel"><code>RxChannel</code></a> wraps around another <a href="../../trait.RxChannel.html" title="trait ucsc_ectf_util_common::communication::RxChannel"><code>RxChannel</code></a> to decrypt communications encrypted
by a <a href="chachapoly1305/struct.XChacha20Poly1305TxChannel.html" title="struct ucsc_ectf_util_common::communication::lower_layers::crypto::chachapoly1305::XChacha20Poly1305TxChannel"><code>XChacha20Poly1305TxChannel</code></a>, providing message authenticity and confidentiality.
When reading from an <a href="chachapoly1305/struct.XChacha20Poly1305RxChannel.html" title="struct ucsc_ectf_util_common::communication::lower_layers::crypto::chachapoly1305::XChacha20Poly1305RxChannel"><code>XChacha20Poly1305RxChannel</code></a>, care must be taken to ensure that
there is sufficient space to store the 16-byte tag and 24-byte nonce as well.
If a received message doesnâ€™t contain a nonce or authentication tag or has an invalid
authentication tag, a <a href="../../enum.CommunicationError.html#variant.RecvError" title="variant ucsc_ectf_util_common::communication::CommunicationError::RecvError"><code>CommunicationError::RecvError</code></a> is given. If the underlying
channel gives this error, it will be propagated up. Data sent and received through
this channel must be at least 1 byte long.</div></div><div class="item-row"><div class="item-left"><a class="struct" href="struct.XChacha20Poly1305TxChannel.html" title="struct ucsc_ectf_util_common::communication::lower_layers::crypto::XChacha20Poly1305TxChannel">XChacha20Poly1305TxChannel</a></div><div class="item-right docblock-short">This <a href="../../trait.TxChannel.html" title="trait ucsc_ectf_util_common::communication::TxChannel"><code>TxChannel</code></a> wraps around a <a href="../framing/trait.FramedTxChannel.html" title="trait ucsc_ectf_util_common::communication::lower_layers::framing::FramedTxChannel"><code>FramedTxChannel</code></a> to encrypt communications encrypted by a <a href="chachapoly1305/struct.XChacha20Poly1305TxChannel.html" title="struct ucsc_ectf_util_common::communication::lower_layers::crypto::chachapoly1305::XChacha20Poly1305TxChannel"><code>XChacha20Poly1305TxChannel</code></a>,
providing message authenticity and confidentiality. This channel requires a <a href="trait.RandomSource.html" title="trait ucsc_ectf_util_common::communication::lower_layers::crypto::RandomSource"><code>RandomSource</code></a> to generate a random nonce.</div></div></div><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><div class="item-table"><div class="item-row"><div class="item-left"><a class="constant" href="constant.METADATA_SIZE.html" title="constant ucsc_ectf_util_common::communication::lower_layers::crypto::METADATA_SIZE">METADATA_SIZE</a></div><div class="item-right docblock-short">The total metadata size required when receiving on a <a href="chachapoly1305/struct.XChacha20Poly1305RxChannel.html" title="struct ucsc_ectf_util_common::communication::lower_layers::crypto::chachapoly1305::XChacha20Poly1305RxChannel"><code>XChacha20Poly1305RxChannel</code></a>.</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left"><a class="trait" href="trait.KeyedChannel.html" title="trait ucsc_ectf_util_common::communication::lower_layers::crypto::KeyedChannel">KeyedChannel</a></div><div class="item-right docblock-short">Implemented for any channel that has encryption/decryption keys that can be changed after channel
creation.</div></div><div class="item-row"><div class="item-left"><a class="trait" href="trait.RandomSource.html" title="trait ucsc_ectf_util_common::communication::lower_layers::crypto::RandomSource">RandomSource</a></div><div class="item-right docblock-short">Trait used for secure channels when they need random number generation.</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left"><a class="type" href="type.Key.html" title="type ucsc_ectf_util_common::communication::lower_layers::crypto::Key">Key</a></div><div class="item-right docblock-short">Key type (256-bits/32-bytes).</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="ucsc_ectf_util_common" data-themes="" data-resource-suffix="" data-rustdoc-version="1.69.0-nightly (9a7cc6c32 2023-02-16)" data-search-js="search-14421e1532aead08.js" data-settings-js="settings-f0c5c39777a9a2f6.js" data-settings-css="settings-0bcba95ff279c1db.css" ></div></body></html>